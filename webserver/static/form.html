<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Submit solution</title>
    <style>
        .select {
            margin: 5px 0;
            height: 22px;
        }
        label {
            font-size: 1.2em;
            margin-right: 5px;
        }
        select {
            height: 100%;
            padding: 2px;
        }
        #code_space {
            white-space: nowrap;
        }
    </style>
</head>
<body>
    <form action="/submit" method="post" enctype="multipart/form-data">
        <h1>Paste your program here:</h1>
        <div class="select">
            <label for="tasks">Task: </label>
            <select id="tasks" name="task">
                <option value="week4A">Week 4. Task A.</option>
                <option value="week3A">Week 3. Task A.</option>
                <option value="week3B">Week 3. Task B.</option>
            </select>
        </div>
        <div class="select">
            <label for="languages">Language: </label>
            <select id="languages" name="language">
                <option value="java">Java 23</option>
                <option value="cpp">GCC C++ 17</option>
            </select>
        </div>
        <label>
            <textarea id="code_space" name="program" style="margin: 10px 0; width: 80%; min-height: 500px"></textarea>
        </label>
        <br>
        <input type="submit" style="width: 10em; height: 2em">
    </form>

    <script>
        if (getCookie('task') !== null)
            document.querySelector('#tasks').value = getCookie('task');
        if (getCookie('language') !== null)
            document.querySelector('#languages').value = getCookie('language');

        function getCookie(cname) {
            let name = cname + "=";
            let decodedCookie = decodeURIComponent(document.cookie);
            let ca = decodedCookie.split(';');
            for(let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) === ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) === 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return null;
        }
    </script>
</body>
</html>