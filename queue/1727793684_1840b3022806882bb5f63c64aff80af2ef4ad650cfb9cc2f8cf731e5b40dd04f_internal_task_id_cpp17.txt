#include <stdio.h>
#include <math.h>
#include <string.h>

int main() {
    FILE* file;
    FILE* out;
    int n;
    int ans = 0;
    file = fopen("input.txt", "r"); //for beginning, I need to open input and output files
    out = fopen("output.txt", "w");
    fscanf(file, "%d", &n); // then I scan from a file value for variable n
    if (1 > n || 40 < n) {
        fprintf(out, "Invalid inputs\n"); // and immediately check n against on condition 1<=n<=40
        return 0;
    }
    char s[n][7];
    int a[n], res[n];
    for (int i = 0; i < n; i++) res[i] = 0;
    for (int i = 0; i < n; i++) fscanf(file, "%s", s[i]);
    // then I announce arrays, including string array and I scan string array
    for (int i = 0; i < n; i++) {
        fscanf(file, "%d", &a[i]);
        if (a[i] != 2 && a[i] != 8 && a[i] != 10 && a[i] != 16) {
            fprintf(out, "Invalid inputs\n");
            return 0;
        } // here I scan "a" array with bases and right away check all bases on correctness
    }
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < 7; j++) {
            char x = s[i][j];
            int p;
            if (x == '\000') break;
            if ('A' <= x && x <= 'F') {
                p = (int)s[i][j] - 55;
            }
            else if ('0' <= x && x <= '9') {
                p = (int)s[i][j] - 48;
            }
            else {
                fprintf(out, "Invalid inputs\n");
                return 0;
            }
            if (p >= a[i]) {
                fprintf(out, "Invalid inputs\n");
                return 0;
            }
        }
        res[i] += strtol(s[i], NULL, a[i]);
    }
    // further I check all numbers on compliance with the bases
    for (int i = 0; i < n; i++) {
        if (i % 2 == 0) ans += res[i] - 10;
        else ans += res[i] + 10;
    }
    fprintf(out, "%d\n", ans);
    // and in the end, of course, addiction and subtraction of tens, output to file and files closing
    fclose(file);
    fclose(out);
}